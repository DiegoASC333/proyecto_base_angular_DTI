<div class="bg-light dark:bg-transparent min-vh-100 d-flex flex-row align-items-center">
  <c-container>
    <c-row class="justify-content-center">
      <c-col md="8">
        <c-card-group>
          <c-card [ngStyle]="{ 'width.%': 44 }" class="text-white py-5 blur-grey">
            <c-card-body class="text-center">
              <div>
                <img src="assets/img/brand/u-logo.svg" class="mx-auto d-block img-fluid" />
              </div>
            </c-card-body>
          </c-card>
          <c-card class="p-4">
            <c-card-body class="d-flex align-items-center mx-auto">
              <div
                class="d-grid gap-2"
                *ngIf="!(studentVisible || companyVisible || administratorVisible)"
              >
                <button
                  cButton
                  color="danger"
                  class="text-uppercase text-white"
                  (click)="showLogin(0)"
                >
                  Acceso alumnos
                </button>
                <button
                  cButton
                  color="success"
                  class="text-uppercase text-white"
                  (click)="showLogin(1)"
                >
                  Acceso empresas
                </button>
                <button cButton color="light" class="text-uppercase" (click)="showLogin(2)">
                  Acceso Universidad
                </button>
              </div>
              <form
                *ngIf="studentVisible"
                cForm
                [formGroup]="studentForm"
                (ngSubmit)="doLogin(0)"
                novalidate
              >
                <p class="text-medium-emphasis text-uppercase">Ingresa tu run para continuar</p>
                <c-input-group class="mb-3">
                  <span cInputGroupText>
                    <svg cIcon name="cilUser"></svg>
                  </span>
                  <input
                    autoComplete="username"
                    cFormControl
                    placeholder="12345678-9"
                    formControlName="username"
                  />
                </c-input-group>
                <c-row>
                  <c-col>
                    <button
                      cButton
                      class="px-4 mr-4"
                      color="success"
                      [disabled]="!studentForm.valid"
                      type="submit"
                    >
                      Ingresar
                    </button>
                    <button
                      cButton
                      class="px-4"
                      color="secondary"
                      variant="ghost"
                      type="button"
                      (click)="showLogin(0)"
                    >
                      Volver
                    </button>
                  </c-col>
                </c-row>
              </form>
              <form
                *ngIf="companyVisible"
                cForm
                [formGroup]="loginForm"
                (ngSubmit)="doLogin(1)"
                novalidate
              >
                <p class="text-medium-emphasis text-uppercase">Iniciar sesi칩n en su cuenta</p>
                <c-input-group class="mb-3">
                  <span cInputGroupText>
                    <svg cIcon name="cilUser"></svg>
                  </span>
                  <input
                    autoComplete="username"
                    cFormControl
                    placeholder="12345678-9"
                    formControlName="username"
                    [ngClass]="{
                      'is-invalid':
                        loginForm.controls['username'].errors &&
                        !loginForm.controls['username'].pristine,
                      'is-valid': loginForm.controls['username'].valid,
                    }"
                  />
                </c-input-group>
                <c-input-group class="mb-4">
                  <span cInputGroupText>
                    <svg cIcon name="cilLockLocked"></svg>
                  </span>
                  <input
                    autoComplete="current-password"
                    cFormControl
                    placeholder="Contrase침a"
                    type="password"
                    formControlName="password"
                    [ngClass]="{
                      'is-invalid':
                        loginForm.controls['password'].errors &&
                        !loginForm.controls['password'].pristine,
                      'is-valid': loginForm.controls['password'].valid,
                    }"
                  />
                </c-input-group>
                <c-row>
                  <c-col>
                    <button
                      cButton
                      class="px-4 mr-4"
                      color="success"
                      [disabled]="!loginForm.valid"
                      type="submit"
                    >
                      Ingresar
                    </button>
                    <button
                      cButton
                      class="px-4"
                      color="secondary"
                      variant="ghost"
                      type="button"
                      (click)="showLogin(1)"
                    >
                      Volver
                    </button>
                  </c-col>
                </c-row>
              </form>
              <form
                *ngIf="administratorVisible"
                cForm
                [formGroup]="loginForm"
                (ngSubmit)="doLogin(2)"
                novalidate
              >
                <p class="text-medium-emphasis text-uppercase">Iniciar sesi칩n en su cuenta</p>
                <c-input-group class="mb-3">
                  <span cInputGroupText>
                    <svg cIcon name="cilUser"></svg>
                  </span>
                  <input
                    autoComplete="username"
                    cFormControl
                    placeholder="12345678-9"
                    formControlName="username"
                    [ngClass]="{
                      'is-invalid':
                        loginForm.controls['username'].errors &&
                        !loginForm.controls['username'].pristine,
                      'is-valid': loginForm.controls['username'].valid,
                    }"
                  />
                </c-input-group>
                <c-input-group class="mb-4">
                  <span cInputGroupText>
                    <svg cIcon name="cilLockLocked"></svg>
                  </span>
                  <input
                    autoComplete="current-password"
                    cFormControl
                    placeholder="Contrase침a"
                    type="password"
                    formControlName="password"
                    [ngClass]="{
                      'is-invalid':
                        loginForm.controls['password'].errors &&
                        !loginForm.controls['password'].pristine,
                      'is-valid': loginForm.controls['password'].valid,
                    }"
                  />
                </c-input-group>
                <c-row>
                  <c-col>
                    <button
                      cButton
                      class="px-4 mr-4"
                      color="success"
                      [disabled]="!loginForm.valid"
                      type="submit"
                    >
                      Ingresar
                    </button>
                    <!--
                    <button cButton class="px-4" color="secondary" variant="ghost" type="button" (click)="showLogin(2)">
                      Volver
                    </button>
                    -->
                  </c-col>
                </c-row>
              </form>
            </c-card-body>
          </c-card>
        </c-card-group>
        <div *ngIf="formError" class="alert alert-danger">
          <p *ngIf="errorMessage">
            {{ errorMessage }}
          </p>
        </div>
      </c-col>
    </c-row>
  </c-container>
</div>
